import matplotlib.pyplot as plt
from PIL import Image
import numpy as np
import imageio.v2 as imageio

def radial_profile(data, center):
    if (len(data.shape)>2):
        y, x, z = np.indices((data.shape))
    else:
        y, x = np.indices((data.shape))
    r = np.sqrt((x - center[0])**2 + (y - center[1])**2)
    r = r.astype(int)

    tbin = np.bincount(r.ravel(), data.ravel())
    nr = np.bincount(r.ravel())
    radialprofile = tbin / nr
    return radialprofile 